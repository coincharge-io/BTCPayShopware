!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/bundles/shopwarebtcpay/",n(n.s="W/6q")}({"9HF9":function(t){t.exports=JSON.parse('{"coincharge-btcpay-generate-key":{"button":"Generate API key"},"coincharge-btcpay-test-connection":{"success":"Connection was successfully established","error":"Connection could not be established. Please check your API credentials","button":"Test connection"}}')},"W/6q":function(t,e,n){"use strict";n.r(e);var r=n("lE2+"),a=n.n(r),i=Shopware,o=i.Component,c=i.Mixin;o.register("coincharge-btcpay-generate-key",{template:a.a,inject:["multiSafepayApiService"],mixins:[c.getByName("notification")],data:function(){return{isLoading:!1}},computed:{globalPluginConfig:function(){var t=this.$parent.$parent.$parent.actualConfigData;return t?t.null:this.$parent.$parent.$parent.$parent.actualConfigData?this.$parent.$parent.$parent.$parent.actualConfigData.null:this.$parent.$parent.$parent.$parent.$parent.actualConfigData?this.$parent.$parent.$parent.$parent.$parent.actualConfigData.null:void 0},actualPluginConfig:function(){if(this.$parent.$parent.$parent.currentSalesChannelId){var t=this.$parent.$parent.$parent.currentSalesChannelId;return this.$parent.$parent.$parent.actualConfigData[t]}if(this.$parent.$parent.$parent.$parent.currentSalesChannelId){var e=this.$parent.$parent.$parent.$parent.currentSalesChannelId;return this.$parent.$parent.$parent.$parent.actualConfigData[e]}if(this.$parent.$parent.$parent.$parent.$parent.currentSalesChannelId){var n=this.$parent.$parent.$parent.$parent.$parent.currentSalesChannelId;return this.$parent.$parent.$parent.$parent.$parent.actualConfigData[n]}return null}},methods:{check:function(){var t=this;this.isLoading=!0,this.multiSafepayApiService.verifyApiKey(this.globalPluginConfig,this.actualPluginConfig).then((function(e){if(!1===e.success)return t.createNotificationWarning({title:"MultiSafepay",message:t.$tc("multisafepay-verify-api-key.error")}),void(t.isLoading=!1);t.createNotificationSuccess({title:"MultiSafepay",message:t.$tc("multisafepay-verify-api-key.success")}),t.isLoading=!1}))}}});var p=n("irp2"),u=n.n(p),s=Shopware,l=s.Component,f=s.Mixin;function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);if(e){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}l.register("coincharge-btcpay-test-connection",{template:u.a,inject:["multiSafepayApiService"],mixins:[f.getByName("notification")],data:function(){return{isLoading:!1}},computed:{globalPluginConfig:function(){var t=this.$parent.$parent.$parent.actualConfigData;return t?t.null:this.$parent.$parent.$parent.$parent.actualConfigData?this.$parent.$parent.$parent.$parent.actualConfigData.null:this.$parent.$parent.$parent.$parent.$parent.actualConfigData?this.$parent.$parent.$parent.$parent.$parent.actualConfigData.null:void 0},actualPluginConfig:function(){if(this.$parent.$parent.$parent.currentSalesChannelId){var t=this.$parent.$parent.$parent.currentSalesChannelId;return this.$parent.$parent.$parent.actualConfigData[t]}if(this.$parent.$parent.$parent.$parent.currentSalesChannelId){var e=this.$parent.$parent.$parent.$parent.currentSalesChannelId;return this.$parent.$parent.$parent.$parent.actualConfigData[e]}if(this.$parent.$parent.$parent.$parent.$parent.currentSalesChannelId){var n=this.$parent.$parent.$parent.$parent.$parent.currentSalesChannelId;return this.$parent.$parent.$parent.$parent.$parent.actualConfigData[n]}return null}},methods:{check:function(){var t=this;this.isLoading=!0,this.multiSafepayApiService.verifyApiKey(this.globalPluginConfig,this.actualPluginConfig).then((function(e){if(!1===e.success)return t.createNotificationWarning({title:"MultiSafepay",message:t.$tc("multisafepay-verify-api-key.error")}),void(t.isLoading=!1);t.createNotificationSuccess({title:"MultiSafepay",message:t.$tc("multisafepay-verify-api-key.success")}),t.isLoading=!1}))}}});var S=Shopware.Classes.ApiService,C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(i,t);var e,n,r,a=d(i);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"coincharge-btcpay";return h(this,i),a.call(this,t,e,n)}return e=i,(n=[{key:"generateApiKey",value:function(){}},{key:"verifyApiKey",value:function(){var t="".concat(this.getApiBasePath(),"/verify-api-key"),e=this.getBasicHeaders();return this.httpClient.post(t,{},{headers:e}).then((function(t){return S.handleResponse(t)}))}}])&&y(e.prototype,n),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(S),m=n("9HF9"),P=n("z6Wy"),w=Shopware.Application;w.addServiceProvider("coinchargeBtcpayApiService",(function(t){var e=w.getContainer("init");return new C(e.httpClient,t.loginService)})),Shopware.Locale.extend("de-DE",m),Shopware.Locale.extend("en-GB",P)},irp2:function(t,e){t.exports='<div>\n    <sw-button-process\n        :isLoading="isLoading"\n        @click="check"\n    >{{ $tc(\'coincharge-btcpay-test-connection.html.button\') }}</sw-button-process>\n</div>'},"lE2+":function(t,e){t.exports='<div>\n    <sw-button-process\n        :isLoading="isLoading"\n        @click="check"\n    >{{ $tc(\'coincharge-btcpay-generate-key.html.button\') }}</sw-button-process>\n</div>'},z6Wy:function(t){t.exports=JSON.parse('{"coincharge-btcpay-generate-key":{"button":"Generate API key"},"coincharge-btcpay-test-connection":{"success":"Connection was successfully established","error":"Connection could not be established. Please check your API credentials","button":"Test connection"}}')}});